!function(){function e(e,n){n.aHrefSanitizationWhitelist(/^\s*(https?|l|data):/);var t,r=["$q","$log","$timeout","$injector",function(e,n,r,o){var u=function(n){var t=o.get("UQLAccountService");n.headers.Accept="application/json";var r=t.getToken();return r!==!1&&(n.headers[t.getTokenName()]=r),n||e.when(n)},c=function(n){return e.reject(n)},i=function(n){return t=t||o.get("$http"),n||e.when(n)},a=function(n){return t=t||o.get("$http"),e.reject(n)};return{request:u,requestError:c,response:i,responseError:a}}];e.interceptors.push(r)}angular.module("uql.app.account",["uql.app.config","ngCookies"]).config(e)}(),function(){"use strict";function e(e,n,t,r){var o=r.apiUrl+"account",u=!1,c=!1,i=null,a=function(){return angular.isDefined(t.get(r.uqlCookieName))?u=t.get(r.uqlCookieName):!1},f=function(){return r.uqlTokenHeader},s=function(){if(g()!==!1)return m().promise;p(),d(n.defer());var t=(new Date).getTime(),r=o+"?"+t;return e.get(r).success(function(e){p(),m().resolve(e)}).error(function(e){p(),m().reject(e)}),m().promise},l=function(t){var r=n.defer();return e({method:"POST",data:t,url:o}).success(function(e){r.resolve(e)}).error(function(e){r.reject(e)}),r.promise},p=function(){c=!c},g=function(){return c},d=function(e){i=e},m=function(){return i};return{getAccount:s,getToken:a,getTokenName:f,updateAccount:l}}angular.module("uql.app.account").factory("UQLAccountService",e)}();
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInVxbC5hcHAuYWNjb3VudC5qcyIsInVxbC5hcHAuYWNjb3VudC5zZXJ2aWNlLmpzIl0sIm5hbWVzIjpbIkNvbmZpZyIsIiRodHRwUHJvdmlkZXIiLCIkY29tcGlsZVByb3ZpZGVyIiwiYUhyZWZTYW5pdGl6YXRpb25XaGl0ZWxpc3QiLCIkaHR0cCIsImludGVyY2VwdG9yIiwiJHEiLCIkbG9nIiwiJHRpbWVvdXQiLCIkaW5qZWN0b3IiLCJvblJlcXVlc3QiLCJjb25maWciLCJhY2NvdW50U3ZjIiwiZ2V0IiwiaGVhZGVycyIsIkFjY2VwdCIsInRva2VuIiwiZ2V0VG9rZW4iLCJnZXRUb2tlbk5hbWUiLCJ3aGVuIiwib25SZXF1ZXN0RXJyb3IiLCJyZWplY3Rpb24iLCJyZWplY3QiLCJvblJlc3BvbnNlIiwicmVzcG9uc2UiLCJvblJlc3BvbnNlRXJyb3IiLCJyZXF1ZXN0IiwicmVxdWVzdEVycm9yIiwicmVzcG9uc2VFcnJvciIsImludGVyY2VwdG9ycyIsInB1c2giLCJhbmd1bGFyIiwibW9kdWxlIiwidXFsQWNjb3VudFNlcnZpY2UiLCIkY29va2llcyIsIlVRTF9BUFBfQ09ORklHIiwiYXBpIiwiYXBpVXJsIiwiaXNEZWZlcnJlZCIsImRlZmVycmVkIiwiaXNEZWZpbmVkIiwidXFsQ29va2llTmFtZSIsInVxbFRva2VuSGVhZGVyIiwiZ2V0QWNjb3VudCIsImdldElzRGVmZXJyZWQiLCJnZXREZWZlcnJlZCIsInByb21pc2UiLCJ0b2dnbGVJc0RlZmVycmVkIiwic2V0RGVmZXJyZWQiLCJkZWZlciIsInRpbWVzdGFtcCIsIkRhdGUiLCJnZXRUaW1lIiwidXJsIiwic3VjY2VzcyIsImRhdGEiLCJyZXNvbHZlIiwiZXJyb3IiLCJ1cGRhdGVBY2NvdW50IiwiYWNjb3VudCIsIm1ldGhvZCIsImQiLCJmYWN0b3J5Il0sIm1hcHBpbmdzIjoiQ0FBQSxXQUtBLFFBQUFBLEdBQUFDLEVBQUFDLEdBQ0FBLEVBQUFDLDJCQUFBLHVCQUVBLElBQUFDLEdBQ0FDLEdBQUEsS0FBQSxPQUFBLFdBQUEsWUFDQSxTQUFBQyxFQUFBQyxFQUFBQyxFQUFBQyxHQUVBLEdBQUFDLEdBQUEsU0FBQUMsR0FDQSxHQUFBQyxHQUFBSCxFQUFBSSxJQUFBLG9CQUVBRixHQUFBRyxRQUFBQyxPQUFBLGtCQUdBLElBQUFDLEdBQUFKLEVBQUFLLFVBS0EsT0FKQUQsTUFBQSxJQUNBTCxFQUFBRyxRQUFBRixFQUFBTSxnQkFBQUYsR0FHQUwsR0FBQUwsRUFBQWEsS0FBQVIsSUFHQVMsRUFBQSxTQUFBQyxHQUNBLE1BQUFmLEdBQUFnQixPQUFBRCxJQUdBRSxFQUFBLFNBQUFDLEdBRUEsTUFEQXBCLEdBQUFBLEdBQUFLLEVBQUFJLElBQUEsU0FDQVcsR0FBQWxCLEVBQUFhLEtBQUFLLElBR0FDLEVBQUEsU0FBQUosR0FFQSxNQURBakIsR0FBQUEsR0FBQUssRUFBQUksSUFBQSxTQUNBUCxFQUFBZ0IsT0FBQUQsR0FHQSxRQUNBSyxRQUFBaEIsRUFDQWlCLGFBQUFQLEVBQ0FJLFNBQUFELEVBQ0FLLGNBQUFILElBSUF4QixHQUFBNEIsYUFBQUMsS0FBQXpCLEdBL0NBMEIsUUFBQUMsT0FBQSxtQkFBQSxpQkFBQSxjQUNBckIsT0FBQVgsTUNFQSxXQUNBLFlBS0EsU0FBQWlDLEdBQUE3QixFQUFBRSxFQUFBNEIsRUFBQUMsR0FDQSxHQUFBQyxHQUFBRCxFQUFBRSxPQUFBLFVBQ0FyQixHQUFBLEVBQ0FzQixHQUFBLEVBQ0FDLEVBQUEsS0FNQXRCLEVBQUEsV0FDQSxNQUFBYyxTQUFBUyxVQUFBTixFQUFBckIsSUFBQXNCLEVBQUFNLGdCQUNBekIsRUFBQWtCLEVBQUFyQixJQUFBc0IsRUFBQU0sZ0JBR0EsR0FRQXZCLEVBQUEsV0FDQSxNQUFBaUIsR0FBQU8sZ0JBT0FDLEVBQUEsV0FDQSxHQUFBQyxPQUFBLEVBQ0EsTUFBQUMsS0FBQUMsT0FFQUMsS0FDQUMsRUFBQTFDLEVBQUEyQyxRQUNBLElBQUFDLElBQUEsR0FBQUMsT0FBQUMsVUFDQUMsRUFBQWpCLEVBQUEsSUFBQWMsQ0FVQSxPQVRBOUMsR0FBQVMsSUFBQXdDLEdBQ0FDLFFBQUEsU0FBQUMsR0FDQVIsSUFDQUYsSUFBQVcsUUFBQUQsS0FFQUUsTUFBQSxTQUFBQSxHQUNBVixJQUNBRixJQUFBdkIsT0FBQW1DLEtBRUFaLElBQUFDLFNBUUFZLEVBQUEsU0FBQUMsR0FDQSxHQUFBcEIsR0FBQWpDLEVBQUEyQyxPQVlBLE9BWEE3QyxJQUNBd0QsT0FBQSxPQUNBTCxLQUFBSSxFQUNBTixJQUFBakIsSUFFQWtCLFFBQUEsU0FBQUEsR0FDQWYsRUFBQWlCLFFBQUFGLEtBRUFHLE1BQUEsU0FBQUEsR0FDQWxCLEVBQUFqQixPQUFBbUMsS0FFQWxCLEVBQUFPLFNBR0FDLEVBQUEsV0FDQVQsR0FBQUEsR0FHQU0sRUFBQSxXQUNBLE1BQUFOLElBR0FVLEVBQUEsU0FBQWEsR0FDQXRCLEVBQUFzQixHQUdBaEIsRUFBQSxXQUNBLE1BQUFOLEdBSUEsUUFDQUksV0FBQUEsRUFDQTFCLFNBQUFBLEVBQ0FDLGFBQUFBLEVBQ0F3QyxjQUFBQSxHQWhHQTNCLFFBQUFDLE9BQUEsbUJBQ0E4QixRQUFBLG9CQUFBN0IiLCJmaWxlIjoidXFsYXBwLWFjY291bnQubWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiKGZ1bmN0aW9uKCkge1xuICBhbmd1bGFyLm1vZHVsZSgndXFsLmFwcC5hY2NvdW50JywgWyd1cWwuYXBwLmNvbmZpZycsICduZ0Nvb2tpZXMnXSlcbiAgICAuY29uZmlnKENvbmZpZyk7XG5cbiAgLyogQG5nSW5qZWN0ICovXG4gIGZ1bmN0aW9uIENvbmZpZyAoJGh0dHBQcm92aWRlciwgJGNvbXBpbGVQcm92aWRlcikge1xuICAgICRjb21waWxlUHJvdmlkZXIuYUhyZWZTYW5pdGl6YXRpb25XaGl0ZWxpc3QoL15cXHMqKGh0dHBzP3xsfGRhdGEpOi8pO1xuXG4gICAgdmFyICRodHRwLFxuICAgICAgaW50ZXJjZXB0b3IgPSBbJyRxJywgJyRsb2cnLCAnJHRpbWVvdXQnLCAnJGluamVjdG9yJyxcbiAgICAgICAgZnVuY3Rpb24gKCRxLCAkbG9nLCAkdGltZW91dCwgJGluamVjdG9yKSB7XG5cbiAgICAgICAgICB2YXIgb25SZXF1ZXN0ID0gZnVuY3Rpb24gKGNvbmZpZykge1xuICAgICAgICAgICAgdmFyIGFjY291bnRTdmMgPSAkaW5qZWN0b3IuZ2V0KCdVUUxBY2NvdW50U2VydmljZScpO1xuXG4gICAgICAgICAgICBjb25maWcuaGVhZGVycy5BY2NlcHQgPSAnYXBwbGljYXRpb24vanNvbic7XG5cbiAgICAgICAgICAgIC8vIEFkZCBhdXRob3JpemF0aW9uIHRva2VuIGZvciBlYWNoIHJlcXVlc3RcbiAgICAgICAgICAgIHZhciB0b2tlbiA9IGFjY291bnRTdmMuZ2V0VG9rZW4oKTtcbiAgICAgICAgICAgIGlmICh0b2tlbiAhPT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgY29uZmlnLmhlYWRlcnNbYWNjb3VudFN2Yy5nZXRUb2tlbk5hbWUoKV0gPSB0b2tlbjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIGNvbmZpZyB8fCAkcS53aGVuKGNvbmZpZyk7XG4gICAgICAgICAgfTtcblxuICAgICAgICAgIHZhciBvblJlcXVlc3RFcnJvciA9IGZ1bmN0aW9uIChyZWplY3Rpb24pIHtcbiAgICAgICAgICAgIHJldHVybiAkcS5yZWplY3QocmVqZWN0aW9uKTtcbiAgICAgICAgICB9O1xuXG4gICAgICAgICAgdmFyIG9uUmVzcG9uc2UgPSBmdW5jdGlvbiAocmVzcG9uc2UpIHtcbiAgICAgICAgICAgICRodHRwID0gJGh0dHAgfHwgJGluamVjdG9yLmdldCgnJGh0dHAnKTtcbiAgICAgICAgICAgIHJldHVybiByZXNwb25zZSB8fCAkcS53aGVuKHJlc3BvbnNlKTtcbiAgICAgICAgICB9O1xuXG4gICAgICAgICAgdmFyIG9uUmVzcG9uc2VFcnJvciA9IGZ1bmN0aW9uIChyZWplY3Rpb24pIHtcbiAgICAgICAgICAgICRodHRwID0gJGh0dHAgfHwgJGluamVjdG9yLmdldCgnJGh0dHAnKTtcbiAgICAgICAgICAgIHJldHVybiAkcS5yZWplY3QocmVqZWN0aW9uKTtcbiAgICAgICAgICB9O1xuXG4gICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHJlcXVlc3Q6IG9uUmVxdWVzdCxcbiAgICAgICAgICAgIHJlcXVlc3RFcnJvcjogb25SZXF1ZXN0RXJyb3IsXG4gICAgICAgICAgICByZXNwb25zZTogb25SZXNwb25zZSxcbiAgICAgICAgICAgIHJlc3BvbnNlRXJyb3I6IG9uUmVzcG9uc2VFcnJvclxuICAgICAgICAgIH07XG4gICAgICAgIH1dO1xuXG4gICAgJGh0dHBQcm92aWRlci5pbnRlcmNlcHRvcnMucHVzaChpbnRlcmNlcHRvcik7XG4gIH1cbn0pKCk7IiwiLyoqXG4gKiBBbGVydCBNYW5hZ2VtZW50IHNlcnZpY2UuIFNob3VsZCBiZSBzZXBhcmF0ZWQgb3V0IGludG8gaXQncyBvd24gZmlsZVxuICovXG5cbihmdW5jdGlvbigpIHtcbiAgJ3VzZSBzdHJpY3QnO1xuXG4gIGFuZ3VsYXIubW9kdWxlKCd1cWwuYXBwLmFjY291bnQnKVxuICAgIC5mYWN0b3J5KCdVUUxBY2NvdW50U2VydmljZScsIHVxbEFjY291bnRTZXJ2aWNlKTtcblxuICBmdW5jdGlvbiB1cWxBY2NvdW50U2VydmljZSgkaHR0cCwgJHEsICRjb29raWVzLCBVUUxfQVBQX0NPTkZJRykge1xuICAgIHZhciBhcGkgPSBVUUxfQVBQX0NPTkZJRy5hcGlVcmwgKyAnYWNjb3VudCc7XG4gICAgdmFyIHRva2VuID0gZmFsc2U7XG4gICAgdmFyIGlzRGVmZXJyZWQgPSBmYWxzZTtcbiAgICB2YXIgZGVmZXJyZWQgPSBudWxsO1xuXG4gICAgLyoqXG4gICAgICogQGRlc2NyaXB0aW9uIFJldHVybnMgdGhlIGN1cnJlbnQgdG9rZW4gdmFsdWVcbiAgICAgKiBAcmV0dXJucyB7Kn0gVGhlIHRva2VuIHZhbHVlLCBlbHNlIGZhbHNlIGlmIGl0IGRvZXNuJ3QgZXhpc3RcbiAgICAgKi9cbiAgICB2YXIgZ2V0VG9rZW4gPSBmdW5jdGlvbiAoKSB7XG4gICAgICBpZiAoYW5ndWxhci5pc0RlZmluZWQoJGNvb2tpZXMuZ2V0KFVRTF9BUFBfQ09ORklHLnVxbENvb2tpZU5hbWUpKSkge1xuICAgICAgICB0b2tlbiA9ICRjb29raWVzLmdldChVUUxfQVBQX0NPTkZJRy51cWxDb29raWVOYW1lKTtcbiAgICAgICAgcmV0dXJuIHRva2VuO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBAZGVzY3JpcHRpb24gUmV0dXJucyB0aGUgdG9rZW4gbmFtZVxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9IFRoZSB0b2tlbiBuYW1lXG4gICAgICovXG4gICAgdmFyIGdldFRva2VuTmFtZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiBVUUxfQVBQX0NPTkZJRy51cWxUb2tlbkhlYWRlcjtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQGRlc2NyaXB0aW9uIEdldHMgYWNjb3VudCBkYXRhXG4gICAgICogQHJldHVybiB7RGVmZXJyZWR9IEEgZGVmZXJyZWQgcHJvbWlzZVxuICAgICAqL1xuICAgIHZhciBnZXRBY2NvdW50ID0gZnVuY3Rpb24gKCkge1xuICAgICAgaWYgKGdldElzRGVmZXJyZWQoKSAhPT0gZmFsc2UpIHtcbiAgICAgICAgcmV0dXJuIGdldERlZmVycmVkKCkucHJvbWlzZTtcbiAgICAgIH1cbiAgICAgIHRvZ2dsZUlzRGVmZXJyZWQoKTtcbiAgICAgIHNldERlZmVycmVkKCRxLmRlZmVyKCkpO1xuICAgICAgdmFyIHRpbWVzdGFtcCA9IG5ldyBEYXRlKCkuZ2V0VGltZSgpO1xuICAgICAgdmFyIHVybCA9IGFwaSArICc/JyArIHRpbWVzdGFtcDtcbiAgICAgICRodHRwLmdldCh1cmwpXG4gICAgICAgIC5zdWNjZXNzKGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgICAgdG9nZ2xlSXNEZWZlcnJlZCgpO1xuICAgICAgICAgIGdldERlZmVycmVkKCkucmVzb2x2ZShkYXRhKTtcbiAgICAgICAgfSlcbiAgICAgICAgLmVycm9yKGZ1bmN0aW9uIChlcnJvcikge1xuICAgICAgICAgIHRvZ2dsZUlzRGVmZXJyZWQoKTtcbiAgICAgICAgICBnZXREZWZlcnJlZCgpLnJlamVjdChlcnJvcik7XG4gICAgICAgIH0pO1xuICAgICAgcmV0dXJuIGdldERlZmVycmVkKCkucHJvbWlzZTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQGRlc2NyaXB0aW9uIFVwZGF0ZXMgYW4gYWNjb3VudFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBhY2NvdW50XG4gICAgICogQHJldHVybiB7RGVmZXJyZWR9IEEgZGVmZXJyZWQgcHJvbWlzZVxuICAgICAqL1xuICAgIHZhciB1cGRhdGVBY2NvdW50ID0gZnVuY3Rpb24gKGFjY291bnQpIHtcbiAgICAgIHZhciBkZWZlcnJlZCA9ICRxLmRlZmVyKCk7XG4gICAgICAkaHR0cCh7XG4gICAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgICBkYXRhOiBhY2NvdW50LFxuICAgICAgICB1cmw6IGFwaVxuICAgICAgfSlcbiAgICAgICAgLnN1Y2Nlc3MoZnVuY3Rpb24gKHN1Y2Nlc3MpIHtcbiAgICAgICAgICBkZWZlcnJlZC5yZXNvbHZlKHN1Y2Nlc3MpO1xuICAgICAgICB9KVxuICAgICAgICAuZXJyb3IoZnVuY3Rpb24gKGVycm9yKSB7XG4gICAgICAgICAgZGVmZXJyZWQucmVqZWN0KGVycm9yKTtcbiAgICAgICAgfSk7XG4gICAgICByZXR1cm4gZGVmZXJyZWQucHJvbWlzZTtcbiAgICB9O1xuXG4gICAgdmFyIHRvZ2dsZUlzRGVmZXJyZWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICBpc0RlZmVycmVkID0gIWlzRGVmZXJyZWQ7XG4gICAgfTtcblxuICAgIHZhciBnZXRJc0RlZmVycmVkID0gZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIGlzRGVmZXJyZWQ7XG4gICAgfTtcblxuICAgIHZhciBzZXREZWZlcnJlZCA9IGZ1bmN0aW9uIChkKSB7XG4gICAgICBkZWZlcnJlZCA9IGQ7XG4gICAgfTtcblxuICAgIHZhciBnZXREZWZlcnJlZCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiBkZWZlcnJlZDtcbiAgICB9O1xuXG4gICAgLy8gUHVibGljIEFQSVxuICAgIHJldHVybiB7XG4gICAgICBnZXRBY2NvdW50OiBnZXRBY2NvdW50LFxuICAgICAgZ2V0VG9rZW46IGdldFRva2VuLFxuICAgICAgZ2V0VG9rZW5OYW1lOiBnZXRUb2tlbk5hbWUsXG4gICAgICB1cGRhdGVBY2NvdW50OiB1cGRhdGVBY2NvdW50XG4gICAgfTtcbiAgfVxuXG59KSgpOyJdLCJzb3VyY2VSb290IjoiL3NvdXJjZS8ifQ==
